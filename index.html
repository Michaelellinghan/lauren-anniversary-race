<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Race Across London! ðŸš†</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700;900&family=Lobster&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
            background-size: 400% 400%;
            animation: gradient 15s ease infinite;
        }

        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .font-lobster {
            font-family: 'Lobster', cursive;
        }

        .page {
            display: none;
            animation: fadeIn 0.7s ease-in-out;
        }

        .page.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .btn {
            @apply inline-block px-8 py-4 text-lg font-bold text-white rounded-full shadow-lg transition-transform duration-300 ease-in-out;
            background-color: #e73c7e;
            border: 2px solid white;
        }

        .btn:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }
        
        .btn:disabled {
            @apply bg-gray-400 cursor-not-allowed;
            transform: scale(1);
        }

        .info-box {
            @apply bg-white/20 backdrop-blur-sm p-6 rounded-2xl shadow-lg mt-6;
        }
    </style>
</head>
<body class="text-gray-800">

    <!-- Countdown Timer Header -->
    <header class="sticky top-0 left-0 right-0 bg-black/50 backdrop-blur-sm p-2 text-white text-center shadow-lg z-50">
        <div id="countdown" class="flex justify-center items-center space-x-2 md:space-x-4">
            <!-- Countdown will be injected here by JS -->
        </div>
    </header>

    <div class="container mx-auto p-4 md:p-8 max-w-2xl">

        <!-- Page 0: Opening -->
        <div id="page-0" class="page active text-center text-white">
            <h1 class="font-lobster text-5xl md:text-7xl mb-4">Race Across London! ðŸš†</h1>
            <h2 class="text-2xl md:text-3xl font-bold mb-8">A special 7th anniversary adventure!</h2>
            
            <div class="bg-white/80 backdrop-blur-sm p-8 rounded-3xl shadow-2xl text-gray-700 space-y-4 text-left">
                <p class="text-lg">Welcome to your Race Across London! (Legally different from Race Across the World ðŸ˜‰)</p>
                <p>Lauren, I hope youâ€™re ready for a special anniversary adventure I have prepared for you!</p>
                <p>This is your very own 'Race Across London' â€“ an exciting journey with various checkpoints and questions!</p>
                <hr class="my-6 border-pink-300">
                <h3 class="font-bold text-xl text-pink-500">Pre-Race Challenge:</h3>
                <p>Your first mission is to prepare a suitcase for 4 days and head to 78 Tattershall drive!</p>
                <p>Weâ€™ll head to Hemel today, whenever my parents arrive and you are ready. Weâ€™ll be staying in London for one night tomorrow, and in Hemel until Sunday.</p>
                <hr class="my-6 border-pink-300">
                <p class="font-bold text-center">The main race starts on <span class="text-pink-500">26th July 2025</span>! Come back then to begin your grand journey!</p>
            </div>

            <button id="start-race-btn" onclick="navigateTo(1)" class="btn mt-8">Start Your London Race</button>
            <p id="start-race-message" class="mt-2 text-white/80"></p>
        </div>

        <!-- Page 1: Stanmore Start -->
        <div id="page-1" class="page text-center text-white">
            <h1 class="font-lobster text-4xl md:text-6xl mb-6">Your Grand Adventure Begins!</h1>
            <div class="bg-white/80 backdrop-blur-sm p-8 rounded-3xl shadow-2xl text-gray-700 space-y-4 text-left">
                <h2 class="font-bold text-2xl text-center text-pink-500">Destination: Stanmore Station!</h2>
                <p>Welcome to your very own Race Across London Lauren! Your first mission is to get from 78 Tattershall Drive, all the way to Stanmore Train Station in London. Hereâ€™s the catch thoughâ€¦ No phones allowed, except to view this website! Michael will provide you with a map of London, but you must work out the rest yourself! I hope you remember the way ðŸ¤¨</p>
                <hr class="my-6 border-pink-300">
                <p class="font-bold text-xl text-center">Your first mission: From 22 Kennedy Drive, NG9 8HT, travel to Stanmore Train Station, HA7 2DX. Travel however you like!</p>
            </div>
            <button onclick="navigateTo(2)" class="btn mt-8">Next Stage</button>
        </div>

        <!-- Page 2: Warwick Avenue Travel -->
        <div id="page-2" class="page text-center text-white">
            <h1 class="font-lobster text-4xl md:text-6xl mb-6">To 'Little Venice'</h1>
             <div class="bg-white/80 backdrop-blur-sm p-8 rounded-3xl shadow-2xl text-gray-700 space-y-4 text-left">
                <p>Excellent! You've made it to Stanmore, the gateway to your London adventure. Our first destination takes you to the charming waterways of 'Little Venice'.</p>
                <hr class="my-6 border-pink-300">
                <p class="font-bold text-xl text-center">Your task: From Stanmore Station, travel to Warwick Avenue.</p>
            </div>
            <button onclick="navigateTo(3)" class="btn mt-8">Iâ€™ve Arrived</button>
        </div>

        <!-- Page 3: Checkpoint 1 -->
        <div id="page-3" class="page text-center text-white">
            <h1 class="font-lobster text-4xl md:text-6xl mb-6">Checkpoint 1</h1>
            <div class="bg-white/80 backdrop-blur-sm p-8 rounded-3xl shadow-2xl text-gray-700 space-y-4 text-left">
                <p>Find a garden-lined street with a name that links to a city in the South West of England. Head along this street until you reach a mini roundabout.</p>
                <hr class="my-6 border-pink-300">
                <h3 class="font-bold text-xl text-center text-pink-500">Question:</h3>
                <p class="text-center">What is on the corner between Formosa Street and Bristol Gardens?</p>
                
                <div class="mt-4 text-center">
                    <input id="answer-1" type="text" class="w-full max-w-sm p-3 rounded-lg border-2 border-pink-300 focus:ring-pink-500 focus:border-pink-500 text-center" placeholder="Your answer here">
                    <p id="feedback-1" class="mt-2 h-6 font-bold"></p>
                    <div class="mt-4 space-x-4">
                        <button onclick="checkAnswer(1)" class="btn">Submit Answer</button>
                        <button onclick="giveUp(1)" class="btn bg-gray-500">Give Up ðŸ˜”</button>
                    </div>
                </div>
            </div>
            
            <div id="info-1" class="hidden mt-6 text-left text-white">
                 <div class="info-box">
                    <h3 class="font-bold text-2xl mb-4 text-center">Local Highlights</h3>
                    <h4 class="font-bold text-lg text-pink-100">Coffee & Lunch Stops:</h4>
                    <ul class="list-disc list-inside space-y-2 mt-2">
                        <li><b>Coffee Shop:</b> Cafe Laville is a unique cafÃ© that sits directly over the canal, offering lovely views.</li>
                        <li><b>Lunch Restaurant:</b> The Waterway is a fantastic gastropub with a large terrace right on the canal.</li>
                    </ul>
                    <h4 class="font-bold text-lg mt-4 text-pink-100">Other Places to Check Out:</h4>
                    <ul class="list-disc list-inside space-y-2 mt-2">
                        <li><b>Rembrandt Gardens:</b> A beautiful and tranquil canalside garden, perfect for a brief, quiet moment.</li>
                        <li><b>Walk the Waterway:</b> How about a 5-10 minute stroll along the canal towpath towards Paddington?</li>
                    </ul>
                    <div id="selfie-prompt-1" class="mt-4 p-4 bg-pink-100 text-pink-800 rounded-lg text-center font-bold"></div>
                </div>
                <div class="text-center">
                    <button onclick="navigateTo(4)" class="btn mt-8">Next Stage</button>
                </div>
            </div>
        </div>
        
        <!-- Page 4: Leicester Square Travel -->
        <div id="page-4" class="page text-center text-white">
            <h1 class="font-lobster text-4xl md:text-6xl mb-6">Heart of Theatreland</h1>
             <div class="bg-white/80 backdrop-blur-sm p-8 rounded-3xl shadow-2xl text-gray-700 space-y-4 text-left">
                <p>Well done! Now, let's head to the heart of Theatreland.</p>
                <hr class="my-6 border-pink-300">
                <p class="font-bold text-xl text-center">Your task: Travel to Leicester Square.</p>
            </div>
            <button onclick="navigateTo(5)" class="btn mt-8">Iâ€™ve Arrived</button>
        </div>

        <!-- Page 5: Checkpoint 2 -->
        <div id="page-5" class="page text-center text-white">
            <h1 class="font-lobster text-4xl md:text-6xl mb-6">Checkpoint 2</h1>
            <div class="bg-white/80 backdrop-blur-sm p-8 rounded-3xl shadow-2xl text-gray-700 space-y-4 text-left">
                <p>Find a famous restaurant located on West Street with ties to one of our children.</p>
                <hr class="my-6 border-pink-300">
                <h3 class="font-bold text-xl text-center text-pink-500">Question:</h3>
                <p class="text-center">What letter is repeated twice on the clock?</p>
                
                <div class="mt-4 text-center">
                    <input id="answer-2" type="text" class="w-full max-w-sm p-3 rounded-lg border-2 border-pink-300 focus:ring-pink-500 focus:border-pink-500 text-center" placeholder="Your answer here">
                    <p id="feedback-2" class="mt-2 h-6 font-bold"></p>
                    <div class="mt-4 space-x-4">
                        <button onclick="checkAnswer(2)" class="btn">Submit Answer</button>
                        <button onclick="giveUp(2)" class="btn bg-gray-500">Give Up ðŸ˜”</button>
                    </div>
                </div>
            </div>
            
            <div id="info-2" class="hidden mt-6 text-left text-white">
                 <div class="info-box">
                    <h3 class="font-bold text-2xl mb-4 text-center">Local Highlights</h3>
                    <h4 class="font-bold text-lg text-pink-100">Coffee & Lunch Stops (sorry, weâ€™re not eating here):</h4>
                    <ul class="list-disc list-inside space-y-2 mt-2">
                        <li><b>Coffee Shop:</b> Abuelo is a lovely, relaxed Australian-meets-South American cafÃ© just around the corner.</li>
                        <li><b>Lunch Restaurant:</b> Dishoom Covent Garden is an incredibly popular spot for delicious Bombay-inspired food.</li>
                    </ul>
                    <h4 class="font-bold text-lg mt-4 text-pink-100">Other Places to Check Out:</h4>
                    <ul class="list-disc list-inside space-y-2 mt-2">
                        <li><b>Neal's Yard:</b> A must-see hidden gem, exploding with colour.</li>
                        <li><b>The London Transport Museum:</b> Given the theme of the race, this is very fitting!</li>
                        <li><b>Covent Garden's Street Performers:</b> Soak up the lively atmosphere.</li>
                        <li><b>Evening Plans:</b> We could come back for 9:05 to see Rachel Zegler on the balcony of the London Palladium!</li>
                    </ul>
                    <div id="selfie-prompt-2" class="mt-4 p-4 bg-pink-100 text-pink-800 rounded-lg text-center font-bold"></div>
                </div>
                <div class="text-center">
                    <button onclick="navigateTo(6)" class="btn mt-8">Next Stage</button>
                </div>
            </div>
        </div>

        <!-- Page 6: Green Park Travel -->
        <div id="page-6" class="page text-center text-white">
            <h1 class="font-lobster text-4xl md:text-6xl mb-6">A Touch of Grandeur</h1>
             <div class="bg-white/80 backdrop-blur-sm p-8 rounded-3xl shadow-2xl text-gray-700 space-y-4 text-left">
                <p>Great job! Now itâ€™s time for a touch of grandeur.</p>
                <hr class="my-6 border-pink-300">
                <p class="font-bold text-xl text-center">Your task: Travel to Green Park.</p>
            </div>
            <button onclick="navigateTo(7)" class="btn mt-8">Iâ€™ve Arrived</button>
        </div>

        <!-- Page 7: Checkpoint 3 -->
        <div id="page-7" class="page text-center text-white">
            <h1 class="font-lobster text-4xl md:text-6xl mb-6">Checkpoint 3</h1>
            <div class="bg-white/80 backdrop-blur-sm p-8 rounded-3xl shadow-2xl text-gray-700 space-y-4 text-left">
                <p>Find the magnificent private mansion that has been used as a filming location for The Crawleyâ€™s London home in Downton Abbey located at 14 Cleveland Road. It overlooks Green Park and is a short walk from here.</p>
                <hr class="my-6 border-pink-300">
                <h3 class="font-bold text-xl text-center text-pink-500">Question:</h3>
                <p class="text-center">What animal is seen above the arch in the doorway?</p>
                
                <div class="mt-4 text-center">
                    <input id="answer-3" type="text" class="w-full max-w-sm p-3 rounded-lg border-2 border-pink-300 focus:ring-pink-500 focus:border-pink-500 text-center" placeholder="Your answer here">
                    <p id="feedback-3" class="mt-2 h-6 font-bold"></p>
                    <div class="mt-4 space-x-4">
                        <button onclick="checkAnswer(3)" class="btn">Submit Answer</button>
                        <button onclick="giveUp(3)" class="btn bg-gray-500">Give Up ðŸ˜”</button>
                    </div>
                </div>
            </div>
            
            <div id="info-3" class="hidden mt-6 text-left text-white">
                 <div class="info-box">
                    <h3 class="font-bold text-2xl mb-4 text-center">Local Highlights</h3>
                    <h4 class="font-bold text-lg text-pink-100">Coffee & Lunch Stops:</h4>
                    <ul class="list-disc list-inside space-y-2 mt-2">
                        <li><b>Coffee Shop:</b> Colicci at the entrance to Green Park offers coffee and snacks with a view.</li>
                        <li><b>Lunch Restaurant:</b> The Wolseley on Piccadilly is an elegant European grand cafÃ©.</li>
                    </ul>
                    <h4 class="font-bold text-lg mt-4 text-pink-100">Other Places to Check Out:</h4>
                    <ul class="list-disc list-inside space-y-2 mt-2">
                        <li><b>A "Fly-by" of Buckingham Palace:</b> We're right on the doorstep!</li>
                        <li><b>Spencer House:</b> Another magnificent aristocratic town house, Princess Diana's ancestral home.</li>
                        <li><b>Fortnum & Mason:</b> A quick walk through this famous luxury department store is an experience in itself.</li>
                    </ul>
                    <div id="selfie-prompt-3" class="mt-4 p-4 bg-pink-100 text-pink-800 rounded-lg text-center font-bold"></div>
                </div>
                <div class="text-center">
                    <button onclick="navigateTo(8)" class="btn mt-8">Next Stage</button>
                </div>
            </div>
        </div>

        <!-- Page 8: London Bridge Travel -->
        <div id="page-8" class="page text-center text-white">
            <h1 class="font-lobster text-4xl md:text-6xl mb-6">Cross the River</h1>
             <div class="bg-white/80 backdrop-blur-sm p-8 rounded-3xl shadow-2xl text-gray-700 space-y-4 text-left">
                <p>Great job! Now itâ€™s time to cross the river.</p>
                <hr class="my-6 border-pink-300">
                <p class="font-bold text-xl text-center">Your task: Travel to London Bridge.</p>
            </div>
            <button onclick="navigateTo(9)" class="btn mt-8">Iâ€™ve Arrived</button>
        </div>

        <!-- Page 9: Checkpoint 4 -->
        <div id="page-9" class="page text-center text-white">
            <h1 class="font-lobster text-4xl md:text-6xl mb-6">Checkpoint 4</h1>
            <div class="bg-white/80 backdrop-blur-sm p-8 rounded-3xl shadow-2xl text-gray-700 space-y-4 text-left">
                <p>Find London's last remaining galleried coaching inn. This historic pub is tucked away on Borough High St near London's most famous food market.</p>
                <hr class="my-6 border-pink-300">
                <h3 class="font-bold text-xl text-center text-pink-500">Question:</h3>
                <p class="text-center">When was this inn established?</p>
                
                <div class="mt-4 text-center">
                    <input id="answer-4" type="text" class="w-full max-w-sm p-3 rounded-lg border-2 border-pink-300 focus:ring-pink-500 focus:border-pink-500 text-center" placeholder="Your answer here">
                    <p id="feedback-4" class="mt-2 h-6 font-bold"></p>
                    <div class="mt-4 space-x-4">
                        <button onclick="checkAnswer(4)" class="btn">Submit Answer</button>
                        <button onclick="giveUp(4)" class="btn bg-gray-500">Give Up ðŸ˜”</button>
                    </div>
                </div>
            </div>
            
            <div id="info-4" class="hidden mt-6 text-left text-white">
                 <div class="info-box">
                    <h3 class="font-bold text-2xl mb-4 text-center">Local Highlights</h3>
                    <h4 class="font-bold text-lg text-pink-100">Coffee & Lunch Stops:</h4>
                    <ul class="list-disc list-inside space-y-2 mt-2">
                        <li><b>Coffee Shop:</b> Monmouth Coffee Company in Borough Market is famous for its exceptional coffee.</li>
                        <li><b>Lunch Restaurant:</b> You are spoilt for choice at Borough Market! Or pop in the George Inn!</li>
                    </ul>
                    <h4 class="font-bold text-lg mt-4 text-pink-100">Other Places to Check Out:</h4>
                    <ul class="list-disc list-inside space-y-2 mt-2">
                        <li><b>Southwark Cathedral:</b> This stunning Gothic cathedral is literally next door to Borough Market.</li>
                        <li><b>The Golden Hinde:</b> A beautiful full-size reconstruction of Sir Francis Drake's 16th-century galleon.</li>
                        <li><b>Shakespeare's Globe:</b> A little further along the river bank is the famous Globe theatre.</li>
                    </ul>
                    <div id="selfie-prompt-4" class="mt-4 p-4 bg-pink-100 text-pink-800 rounded-lg text-center font-bold"></div>
                </div>
                <div class="text-center">
                    <button onclick="navigateTo(10)" class="btn mt-8">Next Stage</button>
                </div>
            </div>
        </div>
        
        <!-- Page 10: Islington Travel -->
        <div id="page-10" class="page text-center text-white">
            <h1 class="font-lobster text-4xl md:text-6xl mb-6">The Final Leg!</h1>
             <div class="bg-white/80 backdrop-blur-sm p-8 rounded-3xl shadow-2xl text-gray-700 space-y-4 text-left">
                <p>Perfect. Let's go find our hotel at 72 Prebend Street. (Unless you would like to go do some crazy golf, in which case, ask Michael and we'll discuss the options)</p>
                <hr class="my-6 border-pink-300">
                <p class="font-bold text-xl text-center">Your task: Travel to Islington.</p>
            </div>
            <button onclick="navigateTo(11)" class="btn mt-8">Iâ€™ve Arrived</button>
        </div>

        <!-- Page 11: Final Page -->
        <div id="page-11" class="page text-white">
            <h1 class="font-lobster text-4xl md:text-6xl mb-6 text-center">The Adventure Continues Tomorrow...!!</h1>
            <div class="bg-white/80 backdrop-blur-sm p-8 rounded-3xl shadow-2xl text-gray-700 space-y-4 text-left">
                <p class="text-xl text-center">...But for now, what would you like to do?</p>
                 <div class="info-box text-gray-800">
                    <h3 class="font-bold text-2xl mb-4 text-center text-pink-500">For Coffee (Hyper-Local Gems)</h3>
                    <ul class="list-disc list-inside space-y-2 mt-2">
                        <li><b>Canal No.5:</b> A charming, independent cafÃ© located directly on the Regent's Canal towpath.</li>
                        <li><b>The Common:</b> A top-quality, minimalist coffee shop focused on expertly made coffee.</li>
                        <li><b>The CoffeeWorks Project:</b> One of the best speciality coffee shops in the area on Camden Passage.</li>
                        <li><b>Kobo Cafe:</b> A lovely, relaxed local favourite on Upper Street.</li>
                    </ul>
                </div>
                 <div class="info-box text-gray-800">
                    <h3 class="font-bold text-2xl mb-4 text-center text-pink-500">For a Celebratory Lunch or Dinner</h3>
                    <ul class="list-disc list-inside space-y-2 mt-2">
                        <li><b>The Duke of Cambridge:</b> Britain's first certified organic pub, practically next door.</li>
                        <li><b>Frederick's:</b> Known for its beautiful conservatory dining room and modern European food.</li>
                        <li><b>The Plaquemine Lock:</b> Serves authentic Louisiana Cajun and Creole food with a brilliant, buzzy atmosphere.</li>
                        <li><b>Trullo:</b> A superb and highly-acclaimed Italian restaurant famous for its hand-made pasta.</li>
                    </ul>
                </div>
                 <div class="info-box text-gray-800">
                    <h3 class="font-bold text-2xl mb-4 text-center text-pink-500">Closer, More Immediate Things To Do</h3>
                    <ul class="list-disc list-inside space-y-2 mt-2">
                        <li><b>Explore Camden Passage:</b> Famous for its antique shops, quirky boutiques, and market stalls.</li>
                        <li><b>A Walk Along the Regent's Canal:</b> We can be on the towpath in under a minute!</li>
                        <li><b>Explore St Peter's Street:</b> Has a wonderful, quiet "village" feel with its Georgian houses.</li>
                        <li><b>Have a Drink at a True Local's Pub:</b> The Wenlock Arms is a famous, award-winning "proper" pub.</li>
                    </ul>
                </div>
                <p class="font-bold text-xl text-center mt-8">Ready for tomorrow? Michael will reveal the plans then.</p>
            </div>
        </div>


    </div>

    <script>
        // --- State Management ---
        let currentPage = 0;
        const pages = document.querySelectorAll('.page');
        const wrongAttempts = { 1: 0, 2: 0, 3: 0, 4: 0 };

        // --- Countdown Timer ---
        const countdownDate = new Date("2025-07-26T14:30:00").getTime();

        const countdownFunction = setInterval(() => {
            const now = new Date().getTime();
            const distance = countdownDate - now;

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            const countdownElement = document.getElementById("countdown");
            if (distance < 0) {
                clearInterval(countdownFunction);
                countdownElement.innerHTML = "<div class='font-bold text-lg'>The Race is ON!</div>";
            } else {
                 countdownElement.innerHTML = `
                    <div class='text-center'><div class='text-2xl font-bold'>${days}</div><div class='text-xs'>Days</div></div>
                    <div class='text-2xl font-bold'>:</div>
                    <div class='text-center'><div class='text-2xl font-bold'>${hours}</div><div class='text-xs'>Hours</div></div>
                    <div class='text-2xl font-bold'>:</div>
                    <div class='text-center'><div class='text-2xl font-bold'>${minutes}</div><div class='text-xs'>Mins</div></div>
                    <div class='text-2xl font-bold'>:</div>
                    <div class='text-center'><div class='text-2xl font-bold'>${seconds}</div><div class='text-xs'>Secs</div></div>
                 `;
            }
            
            const startButton = document.getElementById('start-race-btn');
            const startMessage = document.getElementById('start-race-message');
            startButton.disabled = false;
            startMessage.textContent = "Click to preview the race!";

        }, 1000);

        // --- Navigation ---
        function navigateTo(pageIndex) {
            pages[currentPage].classList.remove('active');
            currentPage = pageIndex;
            pages[currentPage].classList.add('active');
            window.scrollTo(0, 0);
        }

        // --- Quiz Logic ---
        const answers = {
            1: { accepted: ['a phone box', 'phone box', 'a telephone box', 'telephone box', 'red phone box', 'red telephone box'], reveal: 'A phone box' },
            2: { accepted: ['v'], reveal: 'V' },
            3: { accepted: ['a lion', 'lion'], reveal: 'A Lion' },
            4: { accepted: ['1542'], reveal: '1542' }
        };

        const selfiePrompts = {
            1: "Time for a victory selfie! Pose like you're making a top-secret call in your new-found phone box!",
            2: "Selfie time! Point dramatically at the clock like you've just solved a great mystery.",
            3: "You found it! Quick, a selfie! Look regal and pretend you own the place. Give us your best royal wave!",
            4: "Success! Time for a historical selfie. Pose with your best 'cheers' as if you're a 16th-century traveller enjoying a pint!"
        };

        function checkAnswer(checkpoint) {
            const feedbackEl = document.getElementById(`feedback-${checkpoint}`);
            const inputEl = document.getElementById(`answer-${checkpoint}`);
            const providedAnswer = inputEl.value.trim().toLowerCase();
            
            if (answers[checkpoint].accepted.includes(providedAnswer)) {
                feedbackEl.textContent = 'Well done! That\'s correct!';
                feedbackEl.classList.remove('text-red-500');
                feedbackEl.classList.add('text-green-500');
                revealInfo(checkpoint, true); // Pass true for correct answer
            } else {
                wrongAttempts[checkpoint]++;
                feedbackEl.classList.add('text-red-500');
                feedbackEl.classList.remove('text-green-500');
                if (wrongAttempts[checkpoint] >= 3) {
                    feedbackEl.textContent = `Sorry, that's not quite right. The correct answer is: ${answers[checkpoint].reveal}`;
                    revealInfo(checkpoint, false);
                } else {
                    feedbackEl.textContent = 'Not quite, try again!';
                    inputEl.value = '';
                }
            }
        }

        function giveUp(checkpoint) {
            const feedbackEl = document.getElementById(`feedback-${checkpoint}`);
            feedbackEl.textContent = `The correct answer is: ${answers[checkpoint].reveal}`;
            feedbackEl.classList.remove('text-red-500');
            feedbackEl.classList.add('text-blue-500');
            revealInfo(checkpoint, false);
        }

        function revealInfo(checkpoint, isCorrect) {
            document.getElementById(`info-${checkpoint}`).classList.remove('hidden');
            
            if (isCorrect) {
                const selfieEl = document.getElementById(`selfie-prompt-${checkpoint}`);
                selfieEl.innerHTML = `ðŸ“¸ ${selfiePrompts[checkpoint]}`;
                selfieEl.style.display = 'block';
            } else {
                const selfieEl = document.getElementById(`selfie-prompt-${checkpoint}`);
                selfieEl.style.display = 'none';
            }

            document.getElementById(`answer-${checkpoint}`).disabled = true;
            const actionButtons = document.querySelector(`#page-${currentPage} .mt-4.space-x-4`);
            if(actionButtons) actionButtons.style.display = 'none';
        }

        // Initialize first page
        document.addEventListener('DOMContentLoaded', () => {
             pages[0].classList.add('active');
        });
    </script>

</body>
</html>
